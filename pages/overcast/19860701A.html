<!DOCTYPE html>
<meta charset='UTF-8'>
<title>/</title>
<link href='../../styles/layout.css' rel='stylesheet'>
<style>
	input{width:438px}
	button{margin-left:1px;width:60px}
</style>
<script src='../../scripts/core.js'></script>
<article>
	<header>
		<h1>仮名快敲工具</h1>
		<p>
			有時候搜尋日文關鍵字只想簡單打個仮名，不需要安裝日文輸入法，因此設計了這個工具。
		</p>
	</header>
	<hr>
	<section>
		<h2>工具</h2>
		<p>
			<input><button>片仮名</button><button>検索</button>
		</p>
	</section>
	<hr>
	<section>
		<h2>用法</h2>
		<p>
			１、「小書き」以 x 開頭，例如「ゃ、ゅ、ょ」請輸入 xya、xyu、xyo。<br>
			２、不支援拗音與促音，所以像「きゃ」「いっ」請兩個字分開打。<br>
			３、「ぢ」請輸入 di 或 zhi，因為 zi、ji 由「じ」優先使用。<br>
			４、「づ」請輸入 du 或 zhu，因為 zu 由「ず」優先使用。<br>
			５、按空白鍵可將最後的「じ、ず、わ、え、お、ヴ」轉為「ぢ、づ、は、へ、を、ゔ」。<br>
			５、「ん」請輸入 nn。<br>
			６、「々」請先打出「ノマ」或「のま」，然後按空白鍵轉換。<br>
			７、標點符號可按 <code>, . - : [ ] ( ) ? ! ~</code>，部份符號可按空白鍵變換，請自行嘗試。<br>
			８、要打片仮名，請先打完平仮名，再按「片仮名」鈕。
		</p>
	</section>
</article>
<script>
	function f(x)
	{
		for(let n=0;n<x.length-1;n+=2) $('input').value=$('input').value.replace(x[n],x[n+1]);
	}

	let a=[/(xtsu|xtu)/i,'っ',/(chi|ti)/i,'ち',/(shi|si)/i,'し',/(tsu|tu)/i,'つ',/(xya)/i,'ゃ',/(xyu)/i,'ゅ',/(xyo)/i,'ょ',/(zhi|di)/i,'ぢ',/(zhu|du)/i,'づ',/(ba)/i,'ば',/(be)/i,'べ',/(bi)/i,'び',/(bo)/i,'ぼ',/(bu)/i,'ぶ',/(da)/i,'だ',/(de)/i,'で',/(do)/i,'ど',/(fu|hu)/i,'ふ',/(ga)/i,'が',/(ge)/i,'げ',/(gi)/i,'ぎ',/(go)/i,'ご',/(gu)/i,'ぐ',/(ha)/i,'は',/(he)/i,'へ',/(hi)/i,'ひ',/(ho)/i,'ほ',/(ji|zi)/i,'じ',/(ka)/i,'か',/(ke)/i,'け',/(ki)/i,'き',/(ko)/i,'こ',/(ku)/i,'く',/(la|ra)/i,'ら',/(le|re)/i,'れ',/(li|ri)/i,'り',/(lo|ro)/i,'ろ',/(lu|ru)/i,'る',/(ma)/i,'ま',/(me)/i,'め',/(mi)/i,'み',/(mm|mn|nm|nn|n\')/i,'ん',/(mo)/i,'も',/(mu)/i,'む',/(na)/i,'な',/(ni)/i,'に',/(nu)/i,'ぬ',/(ne)/i,'ね',/(no)/i,'の',/(pa)/i,'ぱ',/(pe)/i,'ぺ',/(pi)/i,'ぴ',/(po)/i,'ぽ',/(pu)/i,'ぷ',/(sa)/i,'さ',/(se)/i,'せ',/(so)/i,'そ',/(su)/i,'す',/(ta)/i,'た',/(te)/i,'て',/(to)/i,'と',/(vu)/i,'ヴ',/(wa)/i,'わ',/(we|wye)/i,'ゑ',/(wi|wyi)/i,'ゐ',/(wo)/i,'を',/(xa)/i,'ぁ',/(xe)/i,'ぇ',/(xi)/i,'ぃ',/(xo)/i,'ぉ',/(xu)/i,'ぅ',/(ya)/i,'や',/(yo)/i,'よ',/(yu)/i,'ゆ',/(za)/i,'ざ',/(zu)/i,'ず',/(ze)/i,'ぜ',/(zo)/i,'ぞ',/[a]/i,'あ',/[i]/i,'い',/[u]/i,'う',/[e]/i,'え',/[o]/i,'お',/[,]/i,'、',/[\.]/i,'。',/[-]/i,'ー',/[;|:]/i,'：',/[\[]/i,'「',/[\]]/i,'」',/[\(]/i,'（',/[\)]/i,'）',/[\~]/i,'～',/[\!]/i,'！',/[\?]/i,'？',/[\s]$/,''],b=[/(おどりじ|おなじ|きごう|くりかえし|どう|のま|ノマ)$/,'々',/[え]$/,'へ',/[お]$/,'を',/[じ]$/,'ぢ',/[ず]$/,'づ',/[わ]$/,'は',/[ヴ]$/,'ゔ',/[。]$/,'．',/[、]$/,'，',/[ー]$/,'…',/[：]$/,'；',/[「]$/,'『',/[」]$/,'』',/[（]$/,'《',/[）]$/,'》'],c=[/[あ]/g,'ア',/[ぁ]/g,'ァ',/[い]/g,'イ',/[ぃ]/g,'ィ',/[う]/g,'ウ',/[ぅ]/g,'ゥ',/[え]/g,'エ',/[ぇ]/g,'ェ',/[お]/g,'オ',/[ぉ]/g,'ォ',/[か]/g,'カ',/[き]/g,'キ',/[く]/g,'ク',/[け]/g,'ケ',/[こ]/g,'コ',/[が]/g,'ガ',/[ぎ]/g,'ギ',/[ぐ]/g,'グ',/[げ]/g,'ゲ',/[ご]/g,'ゴ',/[さ]/g,'サ',/[し]/g,'シ',/[す]/g,'ス',/[せ]/g,'セ',/[そ]/g,'ソ',/[ざ]/g,'ザ',/[じ]/g,'ジ',/[ず]/g,'ズ',/[ぜ]/g,'ゼ',/[ぞ]/g,'ゾ',/[た]/g,'タ',/[ち]/g,'チ',/[つ]/g,'ツ',/[っ]/g,'ッ',/[て]/g,'テ',/[と]/g,'ト',/[だ]/g,'ダ',/[ぢ]/g,'ヂ',/[づ]/g,'ヅ',/[で]/g,'デ',/[ど]/g,'ド',/[な]/g,'ナ',/[に]/g,'ニ',/[ぬ]/g,'ヌ',/[ね]/g,'ネ',/[の]/g,'ノ',/[は]/g,'ハ',/[ひ]/g,'ヒ',/[ふ]/g,'フ',/[へ]/g,'ヘ',/[ほ]/g,'ホ',/[ぱ]/g,'パ',/[ぴ]/g,'ピ',/[ぷ]/g,'プ',/[ぺ]/g,'ペ',/[ぽ]/g,'ポ',/[ば]/g,'バ',/[び]/g,'ビ',/[ぶ]/g,'ブ',/[べ]/g,'ベ',/[ぼ]/g,'ボ',/[ま]/g,'マ',/[み]/g,'ミ',/[む]/g,'ム',/[め]/g,'メ',/[も]/g,'モ',/[や]/g,'ヤ',/[ゆ]/g,'ユ',/[よ]/g,'ヨ',/[ゃ]/g,'ャ',/[ゅ]/g,'ュ',/[ょ]/g,'ョ',/[ら]/g,'ラ',/[り]/g,'リ',/[る]/g,'ル',/[れ]/g,'レ',/[ろ]/g,'ロ',/[わ]/g,'ワ',/[ゐ]/g,'ヰ',/[ゑ]/g,'ヱ',/[を]/g,'ヲ',/[ん]/g,'ン',/[ゝ]/g,'ヽ'];

	$('input').focus();

	$('input').onkeyup=function(){
		f(a);
		if(event.which==32) f(b);
	};

	$('button').onclick=function(){
		f(c);
	};

	$('button',1).onclick=function(){
		location.href=`http://search.yahoo.co.jp/search?p=${$('input').value}`;
	};
</script>